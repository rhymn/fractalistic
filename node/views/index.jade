extends layout

block content

	div.navbar.navbar-default#navigation(role='navigation')
		div.navbar-header
			a.navbar-brand
				img(src='/images/logo_white_line.png')

	div.container
		div.row
			div.col-xs-6
				p.lead
					span Pannan 채r inst채lld p책 
					span#mode(style="font-weight: bold;")

			div.col-xs-6
				div.btn-group(data-toggle='buttons')
					label.btn.fr-btn.active#home Hemma
						input(type='radio', disable="disable")
					label.btn.fr-btn#away Borta
						input(type='radio')
		div.row
			div.col-xs-12
				p.lead
					span Pannan h책ller 
					span#water-temp
					span  grader

		div.row
			div.col-xs-12
				p.lead
					span Utomhus: 
					span#outside-temp
		div.row
			div.col-xs-12
				p.lead
					span Vindhastighet: 
					span#wind-speed

		div.row
			div.col-xs-12
				p.lead
					span Effekt 
					span#output
					span  av 200

	script.
		$(function(){
			$('#home').on('click', function(e){

				$.ajax( {
					url: '/setsettings', 
					data: {'mode': 'home'},
					dataType: 'json',
					beforeSend: function(){
						$('#navigation').addClass('navbar-wait');
					},
					complete: function(){
						$('#navigation').removeClass('navbar-wait');
					}
				}).done(function(data){
					console.log('home');
					console.log(data.title);
				});
			});

			$('#away').on('click', function(e){
				$.ajax( {
					url: '/setsettings', 
					data: {'mode': 'away'},
					dataType: 'json',
					beforeSend: function(){
						$('#navigation').addClass('navbar-wait');
					},
					complete: function(){
						$('#navigation').removeClass('navbar-wait');
					}
				}).done(function(data){
					console.log('away');
					console.log(data.title);
				});
			});


			$.ajax( {
				url: '/getweatherdata', 
				dataType: 'json',
			}).done(function(data){
				$('#outside-temp').html(data.t);
				$('#wind-speed').html(data.ws);
			});


			$.ajax( {
				url: '/getstat', 
				dataType: 'json',
			}).done(function(data){
				$('#water-temp').html(data.temp);
				$('#mode').html(data.mode);
				$('#output').html(data.output);
			});

		});
